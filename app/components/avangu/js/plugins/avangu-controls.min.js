/*! avangu - v1.0.0 - 2017-08-03
* Copyright (c) 2017 */
"use strict";angular.module("avangu.plugins.controls",[]),angular.module("avangu.plugins",["avangu.plugins.controls"]).run(["$templateCache",function(a){a.put("avgu-templates/avgu-plugins-controls",'<div class="controls-hud" ng-class="avguClass" ng-transclude></div>')}]).directive("avanguControls",["$timeout","$AVGU_STATES",function(a,b){return{restrict:"E",require:"^avangu",transclude:!0,templateUrl:function(a,b){return"avgu-templates/avgu-plugins-controls"},scope:{autoHide:"=?",autoHideTimer:"=?"},link:function(b,c,d,e){var f,g,h=e;b.showControls=function(){b.autoHide&&f&&(f=!1,a.cancel(g),g=a(b.hide,b.autoHideTimer),b.show()),console.log("CONTROLS",b.avguClass)},b.setNavtiveControl=function(a){h.playerElement.controls=!!a},b.hide=function(){b.avguClass="hide"},b.show=function(){b.avguClass="show"},h.isConfig?b.$watch(function(){return h.config},function(){h.config&&(b.autoHide=!!h.plugins.controls.autoHide,b.autoHideDelay=h.plugins.controls.autoHideDelay||2e3,b.setNavtiveControl(!!h.plugins.controls.nativeControls||!1),b.hide())}):(b.$watch("autoHide",!!b.autoHide),b.$watch("autoHideTimer",!!b.autoHideTimer),b.$watch("nativeControls",b.setNavtiveControl(!!h.nativeControls||!1))),h.playerElement.addEventListener("mousemove",function(){f=!0,b.autoHide&&!b.setNavtiveControl?b.showControls():b.show(),b.$apply()},!1),console.log(".::: avangu player controls plugin :::.")}}}]),angular.module("avangu.plugins.controls").run(["$templateCache",function(a){a.put("avgu-templates/avgu-controls-btn-fullscreen",'<button class="icon" ng-click="toggleFullscreen()" aria-label="fullscreen"><span class="icon fullscreen" ng-class="avguClass"><span></button>')}]).directive("avanguButtonFullscreen",["$timeout","$AVGU_STATES",function(a,b){return{restrict:"E",require:"^avangu",replace:!0,templateUrl:function(a,b){return"avgu-templates/avgu-controls-btn-fullscreen"},scope:{},link:function(a,b,c,d){var e=d;a.setState=function(b){b?a.avguClass="exit":a.avguClass=""},a.toggleFullscreen=function(){e.toggleFullscreen(),a.setState(e.isFullscreen)},a.$watch()(function(){return e.isFullscreen},function(){newVal!=oldVal&&a.setState(newVal)}),a.setState(e.state),console.log(".::: avangu player controls plugin fullscreen Button  :::.",e.state)}}}]),angular.module("avangu.plugins.controls").run(["$templateCache",function(a){a.put("avgu-templates/avgu-controls-play-pause-btn",'<button class="icon" ng-click="togglePlay()" aria-label="Play/Pause"><span class="icon" ng-class="avguClass"><span></button>')}]).directive("avanguButtonPlayPause",["$timeout","$AVGU_STATES",function(a,b){return{restrict:"E",require:"^avangu",replace:!0,templateUrl:function(a,b){return"avgu-templates/avgu-controls-play-pause-btn"},scope:{},link:function(a,c,d,e){var f=e;a.setState=function(c){switch(c){case b.PLAY:a.avguClass="pause";break;case b.PAUSE:a.avguClass="play";break;case b.STOP:a.avguClass="play"}},a.togglePlay=function(){f.playPause(),a.setState(f.state)},a.setState(f.state),f.log(".::: avangu player controls plugin Play Pause Button  :::.",f.state)}}}]);